<mxEditor defaultGroup="group" defaultEdge="connector">
	<include name="config/editor-commons.xml"/>
	<add as="onInit"><![CDATA[
		function ()
		{
			onInit(this);
		}
	]]></add>
	<ui>
		<add as="graph" element="graph"/>
		<add as="status" element="status"/>
		<add as="toolbar" element="toolbar"/>
	</ui>
	<Array as="templates">
		<add as="group">
			<Group label="" href="">
				<mxCell vertex="1" style="group" connectable="0"/>
			</Group>
		</add>
		<add as="connector">
			<Connector label="" href="">
				<mxCell edge="1">
					<mxGeometry as="geometry" relative="1"/>
				</mxCell>
			</Connector>
		</add>
		<add as="upload">
			<Upload label="Upload Data" href="">
				<mxCell vertex="1" style="upload">
					<mxGeometry as="geometry" width="70" height="40"/>
				</mxCell>
			</Upload>
		</add>
		<add as="cleansing">
			<Cleansing label="Data Cleansing" href="">
				<mxCell vertex="1" style="cleansing">
					<mxGeometry as="geometry" width="100" height="80"/>
				</mxCell>
			</Cleansing>
		</add>
		<add as="processing">
			<Processing label="Data Processing" href="">
				<mxCell vertex="1" style="processing">
					<mxGeometry as="geometry" width="90" height="90"/>
				</mxCell>
			</Processing>
		</add>
		<add as="join">
			<Join label="Data Join" href="">
				<mxCell vertex="1" style="join">
					<mxGeometry as="geometry" width="60" height="60"/>
				</mxCell>
			</Join>
		</add>
		<add as="warehouse">
			<Warehouse label="Data Warehouse" href="">
				<mxCell vertex="1" style="warehouse">
					<mxGeometry as="geometry" width="90" height="60"/>
				</mxCell>
			</Warehouse>
		</add>
		<add as="regression">
			<Regression label="Linear Regression" href="">
				<mxCell vertex="1" style="regression">
					<mxGeometry as="geometry" width="90" height="90"/>
				</mxCell>
			</Regression>
		</add>
		<add as="network">
			<Network label="Neural Network" href="">
				<mxCell vertex="1" style="network">
					<mxGeometry as="geometry" width="90" height="90"/>
				</mxCell>
			</Network>
		</add>
		<add as="prediction">
			<Prediction label="Prediction" href="">
				<mxCell vertex="1" style="prediction">
					<mxGeometry as="geometry" width="60" height="40"/>
				</mxCell>
			</Prediction>
		</add>
		<add as="billing">
			<Billing label="Billing" href="">
				<mxCell vertex="1" style="billing">
					<mxGeometry as="geometry" width="40" height="40"/>
				</mxCell>
			</Billing>
		</add>
	</Array>
	<mxGraph as="graph" alternateEdgeStyle="verticalConnector" allowLoops="1" dropEnabled="1">
		<add as="isAutoSizeCell"><![CDATA[
			function(cell)
			{
				return mxUtils.isNode(this.model.getValue(cell), 'text');
			}
		]]></add>
		<add as="isSwimlane"><![CDATA[
			function (cell)
			{
				return mxUtils.isNode(this.model.getValue(cell), 'container');
			}
		]]></add>
		<add as="getTooltipForCell"><![CDATA[
			function(cell)
			{
				var label = cell.getAttribute('label');
				var style = cell.getStyle();
			
				return ((label != null) ? ('<b>' + label +
						'</b> (' + cell.getId() + ')<br>') : '') +
						((style != null) ? ('<br>Style: ' + style + '<br>') : '') +
						'Connections: ' + cell.getEdgeCount()+
						'<br>Children: ' + cell.getChildCount();
			}
		]]></add>
		<add as="convertValueToString"><![CDATA[
			function(cell)
			{
				return cell.getAttribute('label');
			}
		]]></add>
		<mxStylesheet as="stylesheet">
			<add as="upload">
				<add as="shape" value="rectangle"/>
			</add>
			<add as="cleansing">
				<add as="shape" value="cloud"/>
				<add as="perimeter" value="ellipsePerimeter"/>
				<add as="strokeColor" value="#CDEB8B"/>
				<add as="fillColor" value="#CDEB8B"/>
			</add>
			<add as="processing">
				<add as="shape" value="rhombus"/>
				<add as="perimeter" value="rhombusPerimeter"/>
				<add as="strokeColor" value="#FFCF8A"/>
				<add as="fillColor" value="#FFCF8A"/>
			</add>
			<add as="join">
				<add as="shape" value="triangle"/>
				<add as="perimeter" value="trianglePerimeter"/>
				<add as="align" value="left"/>
				<add as="strokeColor" value="#FFCF8A"/>
				<add as="fillColor" value="#FFCF8A"/>
			</add>
			<add as="warehouse">
				<add as="shape" value="cylinder"/>
				<add as="spacingTop" value="10"/>
				<add as="strokeColor" value="#4096EE"/>
				<add as="fillColor" value="#4096EE"/>
			</add>
			<add as="regression">
				<add as="shape" value="ellipse"/>
				<add as="perimeter" value="ellipsePerimeter"/>
				<add as="strokeColor" value="#CDEB8B"/>
				<add as="fillColor" value="#CDEB8B"/>
			</add>
			<add as="network">
				<add as="shape" value="doubleEllipse"/>
				<add as="strokeColor" value="#CDEB8B"/>
				<add as="fillColor" value="#CDEB8B"/>
			</add>
			<add as="prediction">
				<add as="shape" value="rectangle"/>
			</add>
			<add as="billing">
				<add as="shape" value="rectangle"/>
			</add>

		</mxStylesheet>
		<mxGraphModel as="model">
			<add as="valueForCellChanged"><![CDATA[
				function(cell, value)
				{
					var previous = null;
					
					if (value == null || isNaN(value.nodeType))
					{
						previous = cell.value.getAttribute('label');

						if (value == null)
						{
							cell.value.removeAttribute('label');
						}
						else
						{
							cell.setAttribute('label', value);
						}
					}
					else
					{
						previous = cell.value;
						cell.value = value;
					}
					
					return previous;
				}
			]]></add>
			<root>
				<Diagram label="My Diagram" href="http://www.jgraph.com/" id="0">
					<mxCell/>
				</Diagram>
				<Layer label="Default Layer" id="1">
					<mxCell parent="0"/>
				</Layer>
			</root>
		</mxGraphModel>
	</mxGraph>
	<mxDefaultToolbar as="toolbar">
		<add as="connect" mode="connect" icon="images/connect.gif"><![CDATA[
			function (editor)
			{
				if (editor.defaultEdge != null)
				{
					editor.defaultEdge.style = null;
				}
			}
		]]></add>
		<br/><br/>
		<add as="Upload Data" template="upload" icon="images/file.png"/>
		<add as="Data Cleansing" template="cleansing" icon="images/cleansing.png"/>
		<add as="Data Processing" template="processing" icon="images/processing.png"/>
		<add as="Data Join" template="join" icon="images/join.png"/>
		<add as="Data Warehouse" template="warehouse" icon="images/warehouse.png"/>
		<add as="Linear Regression" template="regression" icon="images/regression.png"/>
		<add as="Neural Network" template="network" icon="images/network.png"/>
		<add as="Prediction" template="prediction" icon="images/prediction.png"/>
		<add as="Billing" template="billing" icon="images/billing.png"/>
	</mxDefaultToolbar>
</mxEditor>
